2025-08-15 19:56:44,269 - lightrag - INFO - Rerank model not configured. Set RERANK_BINDING_API_KEY and RERANK_BINDING_HOST to enable reranking.
2025-08-15 19:56:44,495 - lightrag - INFO - [_] Created new empty graph fiel: /Users/lcy/ICAC Hackathon/rag_storage/graph_chunk_entity_relation.graphml
2025-08-15 19:56:44,495 - lightrag - WARNING - Rerank is enabled but no rerank_model_func provided. Reranking will be skipped.
2025-08-15 19:56:44,536 - uvicorn.error - INFO - Started server process [36898]
2025-08-15 19:56:44,536 - uvicorn.error - INFO - Waiting for application startup.
2025-08-15 19:56:44,536 - lightrag - INFO - [_] Process 36898 KV load full_docs with 0 records
2025-08-15 19:56:44,536 - lightrag - INFO - [_] Process 36898 KV load text_chunks with 0 records
2025-08-15 19:56:44,536 - lightrag - INFO - [_] Process 36898 KV load full_entities with 0 records
2025-08-15 19:56:44,536 - lightrag - INFO - [_] Process 36898 KV load full_relations with 0 records
2025-08-15 19:56:44,536 - lightrag - INFO - [_] Process 36898 KV load llm_response_cache with 0 records
2025-08-15 19:56:44,536 - lightrag - INFO - [_] Process 36898 doc status load doc_status with 0 records
2025-08-15 19:56:44,536 - uvicorn.error - INFO - Application startup complete.
2025-08-15 19:56:44,538 - uvicorn.error - INFO - Uvicorn running on http://0.0.0.0:9621 (Press CTRL+C to quit)
2025-08-15 19:59:21,593 - uvicorn.access - INFO - 127.0.0.1:56615 - "HEAD / HTTP/1.1" 405
2025-08-15 19:59:31,532 - uvicorn.access - INFO - 127.0.0.1:56629 - "HEAD /webui HTTP/1.1" 307
2025-08-15 19:59:35,420 - uvicorn.access - INFO - 127.0.0.1:56633 - "HEAD /webui/ HTTP/1.1" 200
2025-08-15 20:00:24,659 - lightrag - INFO - [_] Subgraph query successful | Node count: 0 | Edge count: 0
2025-08-15 20:02:06,977 - uvicorn.access - INFO - 127.0.0.1:56749 - "POST /documents/upload HTTP/1.1" 200
2025-08-15 20:02:07,157 - lightrag - INFO - Stored 1 new unique documents
2025-08-15 20:02:07,157 - lightrag - INFO - Successfully fetched and enqueued file: ICAC proposal.pdf
2025-08-15 20:02:07,157 - lightrag - INFO - Processing 1 document(s)
2025-08-15 20:02:07,157 - lightrag - INFO - Extracting stage 1/1: ICAC proposal.pdf
2025-08-15 20:02:07,157 - lightrag - INFO - Processing d-id: doc-734ce99a9465c4d1373cce9eb225affb
2025-08-15 20:02:07,164 - lightrag - INFO - limit_async: 8 new workers initialized
2025-08-15 20:02:25,200 - lightrag - INFO - limit_async: 4 new workers initialized
2025-08-15 20:02:51,215 - lightrag - INFO - [_] Subgraph query successful | Node count: 0 | Edge count: 0
2025-08-15 20:04:55,320 - lightrag - ERROR - limit_async: Error in decorated function: 
2025-08-15 20:04:55,349 - lightrag - ERROR - limit_async: Error in decorated function: 
2025-08-15 20:04:55,359 - lightrag - ERROR - Failed to extract entities and relationships: 
2025-08-15 20:04:55,477 - lightrag - ERROR - Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/httpx/_transports/default.py", line 101, in map_httpcore_exceptions
    yield
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/httpx/_transports/default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/httpcore/_async/connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/httpcore/_async/connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/httpcore/_async/connection.py", line 103, in handle_async_request
    return await self._connection.handle_async_request(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/httpcore/_async/http11.py", line 136, in handle_async_request
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/httpcore/_async/http11.py", line 106, in handle_async_request
    ) = await self._receive_response_headers(**kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/httpcore/_async/http11.py", line 177, in _receive_response_headers
    event = await self._receive_event(timeout=timeout)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/httpcore/_async/http11.py", line 217, in _receive_event
    data = await self._network_stream.read(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/httpcore/_backends/anyio.py", line 32, in read
    with map_exceptions(exc_map):
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 155, in __exit__
    self.gen.throw(typ, value, traceback)
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/httpcore/_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ReadTimeout

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/lcy/ICAC Hackathon/LightRAG/lightrag/lightrag.py", line 1388, in process_document
    await entity_relation_task
  File "/Users/lcy/ICAC Hackathon/LightRAG/lightrag/lightrag.py", line 1615, in _process_entity_relation_graph
    raise e
  File "/Users/lcy/ICAC Hackathon/LightRAG/lightrag/lightrag.py", line 1600, in _process_entity_relation_graph
    chunk_results = await extract_entities(
                    ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/lcy/ICAC Hackathon/LightRAG/lightrag/operate.py", line 1707, in extract_entities
    raise task.exception()
  File "/Users/lcy/ICAC Hackathon/LightRAG/lightrag/operate.py", line 1683, in _process_with_semaphore
    return await _process_single_content(chunk)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/lcy/ICAC Hackathon/LightRAG/lightrag/operate.py", line 1592, in _process_single_content
    final_result = await use_llm_func_with_cache(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/lcy/ICAC Hackathon/LightRAG/lightrag/utils.py", line 1437, in use_llm_func_with_cache
    res: str = await use_llm_func(input_text, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/lcy/ICAC Hackathon/LightRAG/lightrag/utils.py", line 581, in wait_func
    return await future
           ^^^^^^^^^^^^
  File "/Users/lcy/ICAC Hackathon/LightRAG/lightrag/utils.py", line 365, in worker
    result = await func(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/lcy/ICAC Hackathon/LightRAG/lightrag/llm/ollama.py", line 130, in ollama_model_complete
    return await _ollama_model_if_cache(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/tenacity/asyncio/__init__.py", line 189, in async_wrapped
    return await copy(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/tenacity/asyncio/__init__.py", line 111, in __call__
    do = await self.iter(retry_state=retry_state)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/tenacity/asyncio/__init__.py", line 153, in iter
    result = await action(retry_state)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/tenacity/_utils.py", line 99, in inner
    return call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/tenacity/__init__.py", line 400, in <lambda>
    self._add_action_func(lambda rs: rs.outcome.result())
                                     ^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/concurrent/futures/_base.py", line 449, in result
    return self.__get_result()
           ^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/concurrent/futures/_base.py", line 401, in __get_result
    raise self._exception
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/tenacity/asyncio/__init__.py", line 114, in __call__
    result = await fn(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/lcy/ICAC Hackathon/LightRAG/lightrag/llm/ollama.py", line 109, in _ollama_model_if_cache
    raise e
  File "/Users/lcy/ICAC Hackathon/LightRAG/lightrag/llm/ollama.py", line 72, in _ollama_model_if_cache
    response = await ollama_client.chat(model=model, messages=messages, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/ollama/_client.py", line 854, in chat
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/ollama/_client.py", line 692, in _request
    return cls(**(await self._request_raw(*args, **kwargs)).json())
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/ollama/_client.py", line 632, in _request_raw
    r = await self._client.request(*args, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/httpx/_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/httpx/_client.py", line 1629, in send
    response = await self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/httpx/_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/httpx/_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/httpx/_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/httpx/_transports/default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 155, in __exit__
    self.gen.throw(typ, value, traceback)
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/httpx/_transports/default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ReadTimeout

2025-08-15 20:04:55,480 - lightrag - ERROR - Failed to extract document 1/1: ICAC proposal.pdf
2025-08-15 20:04:55,494 - lightrag - INFO - Document processing pipeline completed
2025-08-15 20:09:46,038 - uvicorn.access - INFO - 127.0.0.1:57233 - "DELETE /documents/delete_document HTTP/1.1" 200
2025-08-15 20:09:46,045 - lightrag - INFO - Deleting document 1/1: doc-734ce99a9465c4d1373cce9eb225affb
2025-08-15 20:09:46,046 - lightrag - INFO - Starting deletion process for document doc-734ce99a9465c4d1373cce9eb225affb
2025-08-15 20:09:46,047 - lightrag - WARNING - WARNING: Deleting FAILED document doc-734ce99a9465c4d1373cce9eb225affb ('ICAC proposal.pdf') - processing failed: 
2025-08-15 20:09:46,047 - lightrag - WARNING - No chunks found for document doc-734ce99a9465c4d1373cce9eb225affb
2025-08-15 20:09:46,049 - lightrag - INFO - Deleted document doc-734ce99a9465c4d1373cce9eb225affb with no associated chunks
2025-08-15 20:09:46,049 - lightrag - INFO - Document doc-734ce99a9465c4d1373cce9eb225affb is deleted without associated chunks.
2025-08-15 20:09:46,064 - lightrag - INFO - [_] Writing graph with 0 nodes, 0 edges
2025-08-15 20:09:46,099 - lightrag - INFO - In memory DB persist to disk
2025-08-15 20:09:46,102 - lightrag - INFO - Deleted document 1/1: doc-734ce99a9465c4d1373cce9eb225affb[ICAC proposal.pdf]
2025-08-15 20:09:53,777 - uvicorn.access - INFO - 127.0.0.1:57240 - "POST /documents/upload HTTP/1.1" 200
2025-08-15 20:10:02,640 - uvicorn.access - INFO - 127.0.0.1:57242 - "POST /documents/scan HTTP/1.1" 200
2025-08-15 20:10:02,666 - lightrag - INFO - Found 1 files to index.
2025-08-15 20:10:02,903 - lightrag - INFO - Stored 1 new unique documents
2025-08-15 20:10:02,903 - lightrag - INFO - Successfully fetched and enqueued file: ICAC proposal.pdf
2025-08-15 20:10:02,903 - lightrag - INFO - Processing 1 document(s)
2025-08-15 20:10:02,903 - lightrag - INFO - Extracting stage 1/1: ICAC proposal.pdf
2025-08-15 20:10:02,903 - lightrag - INFO - Processing d-id: doc-734ce99a9465c4d1373cce9eb225affb
2025-08-15 20:12:34,935 - lightrag - ERROR - limit_async: Error in decorated function: 
2025-08-15 20:12:34,950 - lightrag - ERROR - limit_async: Error in decorated function: 
2025-08-15 20:12:34,960 - lightrag - ERROR - Failed to extract entities and relationships: 
2025-08-15 20:12:34,980 - lightrag - ERROR - Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/httpx/_transports/default.py", line 101, in map_httpcore_exceptions
    yield
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/httpx/_transports/default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/httpcore/_async/connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/httpcore/_async/connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/httpcore/_async/connection.py", line 103, in handle_async_request
    return await self._connection.handle_async_request(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/httpcore/_async/http11.py", line 136, in handle_async_request
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/httpcore/_async/http11.py", line 106, in handle_async_request
    ) = await self._receive_response_headers(**kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/httpcore/_async/http11.py", line 177, in _receive_response_headers
    event = await self._receive_event(timeout=timeout)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/httpcore/_async/http11.py", line 217, in _receive_event
    data = await self._network_stream.read(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/httpcore/_backends/anyio.py", line 32, in read
    with map_exceptions(exc_map):
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 155, in __exit__
    self.gen.throw(typ, value, traceback)
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/httpcore/_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ReadTimeout

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/lcy/ICAC Hackathon/LightRAG/lightrag/lightrag.py", line 1388, in process_document
    await entity_relation_task
  File "/Users/lcy/ICAC Hackathon/LightRAG/lightrag/lightrag.py", line 1615, in _process_entity_relation_graph
    raise e
  File "/Users/lcy/ICAC Hackathon/LightRAG/lightrag/lightrag.py", line 1600, in _process_entity_relation_graph
    chunk_results = await extract_entities(
                    ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/lcy/ICAC Hackathon/LightRAG/lightrag/operate.py", line 1707, in extract_entities
    raise task.exception()
  File "/Users/lcy/ICAC Hackathon/LightRAG/lightrag/operate.py", line 1683, in _process_with_semaphore
    return await _process_single_content(chunk)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/lcy/ICAC Hackathon/LightRAG/lightrag/operate.py", line 1592, in _process_single_content
    final_result = await use_llm_func_with_cache(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/lcy/ICAC Hackathon/LightRAG/lightrag/utils.py", line 1437, in use_llm_func_with_cache
    res: str = await use_llm_func(input_text, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/lcy/ICAC Hackathon/LightRAG/lightrag/utils.py", line 581, in wait_func
    return await future
           ^^^^^^^^^^^^
  File "/Users/lcy/ICAC Hackathon/LightRAG/lightrag/utils.py", line 365, in worker
    result = await func(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/lcy/ICAC Hackathon/LightRAG/lightrag/llm/ollama.py", line 130, in ollama_model_complete
    return await _ollama_model_if_cache(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/tenacity/asyncio/__init__.py", line 189, in async_wrapped
    return await copy(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/tenacity/asyncio/__init__.py", line 111, in __call__
    do = await self.iter(retry_state=retry_state)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/tenacity/asyncio/__init__.py", line 153, in iter
    result = await action(retry_state)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/tenacity/_utils.py", line 99, in inner
    return call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/tenacity/__init__.py", line 400, in <lambda>
    self._add_action_func(lambda rs: rs.outcome.result())
                                     ^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/concurrent/futures/_base.py", line 449, in result
    return self.__get_result()
           ^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/concurrent/futures/_base.py", line 401, in __get_result
    raise self._exception
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/tenacity/asyncio/__init__.py", line 114, in __call__
    result = await fn(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/lcy/ICAC Hackathon/LightRAG/lightrag/llm/ollama.py", line 109, in _ollama_model_if_cache
    raise e
  File "/Users/lcy/ICAC Hackathon/LightRAG/lightrag/llm/ollama.py", line 72, in _ollama_model_if_cache
    response = await ollama_client.chat(model=model, messages=messages, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/ollama/_client.py", line 854, in chat
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/ollama/_client.py", line 692, in _request
    return cls(**(await self._request_raw(*args, **kwargs)).json())
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/ollama/_client.py", line 632, in _request_raw
    r = await self._client.request(*args, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/httpx/_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/httpx/_client.py", line 1629, in send
    response = await self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/httpx/_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/httpx/_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/httpx/_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/httpx/_transports/default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 155, in __exit__
    self.gen.throw(typ, value, traceback)
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/httpx/_transports/default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ReadTimeout

2025-08-15 20:12:34,980 - lightrag - ERROR - Failed to extract document 1/1: ICAC proposal.pdf
2025-08-15 20:12:34,989 - lightrag - INFO - Document processing pipeline completed
2025-08-15 20:12:35,046 - lightrag - INFO - Scanning process completed: 1 files Processed.
2025-08-15 20:19:39,227 - uvicorn.error - INFO - Shutting down
2025-08-15 20:19:39,332 - uvicorn.error - INFO - Waiting for application shutdown.
2025-08-15 20:19:39,335 - lightrag - INFO - Successfully finalized 10 storages
2025-08-15 20:19:39,337 - uvicorn.error - INFO - Application shutdown complete.
2025-08-15 20:19:39,339 - uvicorn.error - INFO - Finished server process [36898]
2025-08-15 20:20:04,640 - lightrag - INFO - Rerank model not configured. Set RERANK_BINDING_API_KEY and RERANK_BINDING_HOST to enable reranking.
2025-08-15 20:20:04,866 - lightrag - INFO - [_] Loaded graph from /Users/lcy/ICAC Hackathon/rag_storage/graph_chunk_entity_relation.graphml with 0 nodes, 0 edges
2025-08-15 20:20:04,867 - lightrag - WARNING - Rerank is enabled but no rerank_model_func provided. Reranking will be skipped.
2025-08-15 20:20:04,910 - uvicorn.error - INFO - Started server process [39743]
2025-08-15 20:20:04,910 - uvicorn.error - INFO - Waiting for application startup.
2025-08-15 20:20:04,911 - lightrag - INFO - [_] Process 39743 KV load full_docs with 0 records
2025-08-15 20:20:04,911 - lightrag - INFO - [_] Process 39743 KV load text_chunks with 2 records
2025-08-15 20:20:04,912 - lightrag - INFO - [_] Process 39743 KV load full_entities with 0 records
2025-08-15 20:20:04,912 - lightrag - INFO - [_] Process 39743 KV load full_relations with 0 records
2025-08-15 20:20:04,912 - lightrag - INFO - [_] Process 39743 KV load llm_response_cache with 0 records
2025-08-15 20:20:04,912 - lightrag - INFO - [_] Process 39743 doc status load doc_status with 1 records
2025-08-15 20:20:04,912 - uvicorn.error - INFO - Application startup complete.
2025-08-15 20:20:04,914 - uvicorn.error - INFO - Uvicorn running on http://0.0.0.0:9621 (Press CTRL+C to quit)
2025-08-15 20:20:20,808 - lightrag - INFO - [_] Process 39743 drop text_chunks
2025-08-15 20:20:20,809 - lightrag - INFO - [_] Process 39743 drop full_docs
2025-08-15 20:20:20,810 - lightrag - INFO - [_] Process 39743 drop full_entities
2025-08-15 20:20:20,811 - lightrag - INFO - [_] Process 39743 drop full_relations
2025-08-15 20:20:20,812 - lightrag - INFO - [_] Process 39743 drop entities(file:/Users/lcy/ICAC Hackathon/rag_storage/vdb_entities.json)
2025-08-15 20:20:20,812 - lightrag - INFO - [_] Process 39743 drop relationships(file:/Users/lcy/ICAC Hackathon/rag_storage/vdb_relationships.json)
2025-08-15 20:20:20,813 - lightrag - INFO - [_] Process 39743 drop chunks(file:/Users/lcy/ICAC Hackathon/rag_storage/vdb_chunks.json)
2025-08-15 20:20:20,813 - lightrag - INFO - [_] Process 39743 drop graph file:/Users/lcy/ICAC Hackathon/rag_storage/graph_chunk_entity_relation.graphml
2025-08-15 20:20:20,813 - lightrag - INFO - [_] Process 39743 drop doc_status
2025-08-15 20:20:20,814 - lightrag - INFO - Successfully dropped JsonKVStorage: _/text_chunks
2025-08-15 20:20:20,814 - lightrag - INFO - Successfully dropped JsonKVStorage: _/full_docs
2025-08-15 20:20:20,814 - lightrag - INFO - Successfully dropped JsonKVStorage: _/full_entities
2025-08-15 20:20:20,814 - lightrag - INFO - Successfully dropped JsonKVStorage: _/full_relations
2025-08-15 20:20:20,814 - lightrag - INFO - Successfully dropped NanoVectorDBStorage: _/entities
2025-08-15 20:20:20,814 - lightrag - INFO - Successfully dropped NanoVectorDBStorage: _/relationships
2025-08-15 20:20:20,814 - lightrag - INFO - Successfully dropped NanoVectorDBStorage: _/chunks
2025-08-15 20:20:20,814 - lightrag - INFO - Successfully dropped NetworkXStorage: _/chunk_entity_relation
2025-08-15 20:20:20,814 - lightrag - INFO - Successfully dropped JsonDocStatusStorage: _/doc_status
2025-08-15 20:20:20,816 - uvicorn.access - INFO - 127.0.0.1:57885 - "DELETE /documents HTTP/1.1" 200
2025-08-15 20:20:26,223 - uvicorn.access - INFO - 127.0.0.1:57887 - "POST /documents/upload HTTP/1.1" 200
2025-08-15 20:20:26,343 - lightrag - INFO - Stored 1 new unique documents
2025-08-15 20:20:26,343 - lightrag - INFO - Successfully fetched and enqueued file: ICAC proposal.pdf
2025-08-15 20:20:26,344 - lightrag - INFO - Processing 1 document(s)
2025-08-15 20:20:26,344 - lightrag - INFO - Extracting stage 1/1: ICAC proposal.pdf
2025-08-15 20:20:26,344 - lightrag - INFO - Processing d-id: doc-734ce99a9465c4d1373cce9eb225affb
2025-08-15 20:20:26,349 - lightrag - INFO - limit_async: 8 new workers initialized
2025-08-15 20:20:28,395 - lightrag - INFO - limit_async: 4 new workers initialized
2025-08-15 20:22:58,461 - lightrag - ERROR - limit_async: Error in decorated function: 
2025-08-15 20:22:58,474 - lightrag - ERROR - limit_async: Error in decorated function: 
2025-08-15 20:22:58,493 - lightrag - ERROR - Failed to extract entities and relationships: 
2025-08-15 20:22:58,734 - lightrag - ERROR - Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/httpx/_transports/default.py", line 101, in map_httpcore_exceptions
    yield
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/httpx/_transports/default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/httpcore/_async/connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/httpcore/_async/connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/httpcore/_async/connection.py", line 103, in handle_async_request
    return await self._connection.handle_async_request(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/httpcore/_async/http11.py", line 136, in handle_async_request
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/httpcore/_async/http11.py", line 106, in handle_async_request
    ) = await self._receive_response_headers(**kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/httpcore/_async/http11.py", line 177, in _receive_response_headers
    event = await self._receive_event(timeout=timeout)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/httpcore/_async/http11.py", line 217, in _receive_event
    data = await self._network_stream.read(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/httpcore/_backends/anyio.py", line 32, in read
    with map_exceptions(exc_map):
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 155, in __exit__
    self.gen.throw(typ, value, traceback)
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/httpcore/_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ReadTimeout

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/lcy/ICAC Hackathon/LightRAG/lightrag/lightrag.py", line 1388, in process_document
    await entity_relation_task
  File "/Users/lcy/ICAC Hackathon/LightRAG/lightrag/lightrag.py", line 1615, in _process_entity_relation_graph
    raise e
  File "/Users/lcy/ICAC Hackathon/LightRAG/lightrag/lightrag.py", line 1600, in _process_entity_relation_graph
    chunk_results = await extract_entities(
                    ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/lcy/ICAC Hackathon/LightRAG/lightrag/operate.py", line 1707, in extract_entities
    raise task.exception()
  File "/Users/lcy/ICAC Hackathon/LightRAG/lightrag/operate.py", line 1683, in _process_with_semaphore
    return await _process_single_content(chunk)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/lcy/ICAC Hackathon/LightRAG/lightrag/operate.py", line 1592, in _process_single_content
    final_result = await use_llm_func_with_cache(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/lcy/ICAC Hackathon/LightRAG/lightrag/utils.py", line 1437, in use_llm_func_with_cache
    res: str = await use_llm_func(input_text, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/lcy/ICAC Hackathon/LightRAG/lightrag/utils.py", line 581, in wait_func
    return await future
           ^^^^^^^^^^^^
  File "/Users/lcy/ICAC Hackathon/LightRAG/lightrag/utils.py", line 365, in worker
    result = await func(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/lcy/ICAC Hackathon/LightRAG/lightrag/llm/ollama.py", line 130, in ollama_model_complete
    return await _ollama_model_if_cache(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/tenacity/asyncio/__init__.py", line 189, in async_wrapped
    return await copy(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/tenacity/asyncio/__init__.py", line 111, in __call__
    do = await self.iter(retry_state=retry_state)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/tenacity/asyncio/__init__.py", line 153, in iter
    result = await action(retry_state)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/tenacity/_utils.py", line 99, in inner
    return call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/tenacity/__init__.py", line 400, in <lambda>
    self._add_action_func(lambda rs: rs.outcome.result())
                                     ^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/concurrent/futures/_base.py", line 449, in result
    return self.__get_result()
           ^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/concurrent/futures/_base.py", line 401, in __get_result
    raise self._exception
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/tenacity/asyncio/__init__.py", line 114, in __call__
    result = await fn(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/lcy/ICAC Hackathon/LightRAG/lightrag/llm/ollama.py", line 109, in _ollama_model_if_cache
    raise e
  File "/Users/lcy/ICAC Hackathon/LightRAG/lightrag/llm/ollama.py", line 72, in _ollama_model_if_cache
    response = await ollama_client.chat(model=model, messages=messages, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/ollama/_client.py", line 854, in chat
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/ollama/_client.py", line 692, in _request
    return cls(**(await self._request_raw(*args, **kwargs)).json())
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/ollama/_client.py", line 632, in _request_raw
    r = await self._client.request(*args, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/httpx/_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/httpx/_client.py", line 1629, in send
    response = await self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/httpx/_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/httpx/_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/httpx/_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/httpx/_transports/default.py", line 393, in handle_async_request
    with map_httpcore_exceptions():
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/contextlib.py", line 155, in __exit__
    self.gen.throw(typ, value, traceback)
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/httpx/_transports/default.py", line 118, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ReadTimeout

2025-08-15 20:22:58,741 - lightrag - ERROR - Failed to extract document 1/1: ICAC proposal.pdf
2025-08-15 20:22:58,788 - lightrag - INFO - Document processing pipeline completed
2025-08-15 20:23:39,062 - uvicorn.error - INFO - Shutting down
2025-08-15 20:23:39,202 - uvicorn.error - INFO - Waiting for application shutdown.
2025-08-15 20:23:39,211 - lightrag - INFO - Successfully finalized 10 storages
2025-08-15 20:23:39,215 - uvicorn.error - INFO - Application shutdown complete.
2025-08-15 20:23:39,221 - uvicorn.error - INFO - Finished server process [39743]
2025-08-15 20:26:37,292 - lightrag - INFO - Rerank model not configured. Set RERANK_BINDING_API_KEY and RERANK_BINDING_HOST to enable reranking.
2025-08-15 20:26:37,526 - lightrag - INFO - [_] Created new empty graph fiel: /Users/lcy/ICAC Hackathon/rag_storage/graph_chunk_entity_relation.graphml
2025-08-15 20:26:37,526 - lightrag - WARNING - Rerank is enabled but no rerank_model_func provided. Reranking will be skipped.
2025-08-15 20:26:37,569 - uvicorn.error - INFO - Started server process [40397]
2025-08-15 20:26:37,569 - uvicorn.error - INFO - Waiting for application startup.
2025-08-15 20:26:37,570 - lightrag - INFO - [_] Process 40397 KV load full_docs with 0 records
2025-08-15 20:26:37,570 - lightrag - INFO - [_] Process 40397 KV load text_chunks with 0 records
2025-08-15 20:26:37,571 - lightrag - INFO - [_] Process 40397 KV load full_entities with 0 records
2025-08-15 20:26:37,571 - lightrag - INFO - [_] Process 40397 KV load full_relations with 0 records
2025-08-15 20:26:37,571 - lightrag - INFO - [_] Process 40397 KV load llm_response_cache with 0 records
2025-08-15 20:26:37,571 - lightrag - INFO - [_] Process 40397 doc status load doc_status with 1 records
2025-08-15 20:26:37,571 - uvicorn.error - INFO - Application startup complete.
2025-08-15 20:26:37,573 - uvicorn.error - INFO - Uvicorn running on http://0.0.0.0:9621 (Press CTRL+C to quit)
2025-08-15 20:27:02,615 - lightrag - INFO - [_] Process 40397 drop text_chunks
2025-08-15 20:27:02,617 - lightrag - INFO - [_] Process 40397 drop full_docs
2025-08-15 20:27:02,617 - lightrag - INFO - [_] Process 40397 drop full_entities
2025-08-15 20:27:02,618 - lightrag - INFO - [_] Process 40397 drop full_relations
2025-08-15 20:27:02,625 - lightrag - INFO - [_] Process 40397 drop entities(file:/Users/lcy/ICAC Hackathon/rag_storage/vdb_entities.json)
2025-08-15 20:27:02,626 - lightrag - INFO - [_] Process 40397 drop relationships(file:/Users/lcy/ICAC Hackathon/rag_storage/vdb_relationships.json)
2025-08-15 20:27:02,626 - lightrag - INFO - [_] Process 40397 drop chunks(file:/Users/lcy/ICAC Hackathon/rag_storage/vdb_chunks.json)
2025-08-15 20:27:02,626 - lightrag - INFO - [_] Process 40397 drop graph file:/Users/lcy/ICAC Hackathon/rag_storage/graph_chunk_entity_relation.graphml
2025-08-15 20:27:02,628 - lightrag - INFO - [_] Process 40397 drop doc_status
2025-08-15 20:27:02,628 - lightrag - INFO - Successfully dropped JsonKVStorage: _/text_chunks
2025-08-15 20:27:02,628 - lightrag - INFO - Successfully dropped JsonKVStorage: _/full_docs
2025-08-15 20:27:02,628 - lightrag - INFO - Successfully dropped JsonKVStorage: _/full_entities
2025-08-15 20:27:02,628 - lightrag - INFO - Successfully dropped JsonKVStorage: _/full_relations
2025-08-15 20:27:02,629 - lightrag - INFO - Successfully dropped NanoVectorDBStorage: _/entities
2025-08-15 20:27:02,629 - lightrag - INFO - Successfully dropped NanoVectorDBStorage: _/relationships
2025-08-15 20:27:02,629 - lightrag - INFO - Successfully dropped NanoVectorDBStorage: _/chunks
2025-08-15 20:27:02,629 - lightrag - INFO - Successfully dropped NetworkXStorage: _/chunk_entity_relation
2025-08-15 20:27:02,629 - lightrag - INFO - Successfully dropped JsonDocStatusStorage: _/doc_status
2025-08-15 20:27:02,630 - uvicorn.access - INFO - 127.0.0.1:58355 - "DELETE /documents HTTP/1.1" 200
2025-08-15 20:27:02,635 - lightrag - INFO - [_] Process 40397 drop llm_response_cache
2025-08-15 20:27:02,635 - lightrag - INFO - Cleared all cache
2025-08-15 20:27:02,636 - uvicorn.access - INFO - 127.0.0.1:58355 - "POST /documents/clear_cache HTTP/1.1" 200
2025-08-15 20:27:08,546 - uvicorn.access - INFO - 127.0.0.1:58358 - "POST /documents/upload HTTP/1.1" 200
2025-08-15 20:27:08,784 - lightrag - INFO - Stored 1 new unique documents
2025-08-15 20:27:08,784 - lightrag - INFO - Successfully fetched and enqueued file: ICAC proposal.pdf
2025-08-15 20:27:08,785 - lightrag - INFO - Processing 1 document(s)
2025-08-15 20:27:08,785 - lightrag - INFO - Extracting stage 1/1: ICAC proposal.pdf
2025-08-15 20:27:08,785 - lightrag - INFO - Processing d-id: doc-734ce99a9465c4d1373cce9eb225affb
2025-08-15 20:27:08,819 - lightrag - INFO - limit_async: 8 new workers initialized
2025-08-15 20:27:11,712 - lightrag - INFO - limit_async: 4 new workers initialized
2025-08-15 20:28:15,571 - lightrag - INFO -  == LLM cache == saving: default:extract:5cf05f174d5b16be342b7af7f7b93f5f
2025-08-15 20:29:09,091 - lightrag - INFO -  == LLM cache == saving: default:extract:c624fae189e83ab05549167b44cf936b
2025-08-15 20:29:44,956 - lightrag - INFO -  == LLM cache == saving: default:extract:81a635a52e3c341d1b5d85f049180c34
2025-08-15 20:29:44,958 - lightrag - INFO - Chunk 1 of 2 extracted 5 Ent + 5 Rel
2025-08-15 20:31:39,727 - lightrag - INFO -  == LLM cache == saving: default:extract:de0fd27308f0b17a5667bd194485db5b
2025-08-15 20:31:39,730 - lightrag - INFO - Chunk 2 of 2 extracted 9 Ent + 10 Rel
2025-08-15 20:31:39,731 - lightrag - INFO - Merging stage 1/1: ICAC proposal.pdf
2025-08-15 20:31:39,731 - lightrag - INFO - Phase 1: Processing 12 entities from doc-734ce99a9465c4d1373cce9eb225affb (async: 8)
2025-08-15 20:31:39,733 - lightrag - INFO - Merge N: Corruption | 2+0
2025-08-15 20:31:39,734 - lightrag - INFO - Merge N: Infrastructure Projects | 2+0
2025-08-15 20:31:40,724 - lightrag - INFO - Phase 2: Processing 14 relations from doc-734ce99a9465c4d1373cce9eb225affb (async: 8)
2025-08-15 20:31:40,725 - lightrag - INFO - Merge E: Corruption - Infrastructure Projects | 2+0
2025-08-15 20:31:41,526 - lightrag - INFO - Phase 3: Updating final 12(12+0) entities and  14 relations from doc-734ce99a9465c4d1373cce9eb225affb
2025-08-15 20:31:41,526 - lightrag - INFO - Completed merging: 12 entities, 0 added entities, 14 relations
2025-08-15 20:31:41,537 - lightrag - INFO - [_] Writing graph with 12 nodes, 14 edges
2025-08-15 20:31:41,563 - lightrag - INFO - In memory DB persist to disk
2025-08-15 20:31:41,563 - lightrag - INFO - Completed processing file 1/1: ICAC proposal.pdf
2025-08-15 20:31:41,564 - lightrag - INFO - Document processing pipeline completed
2025-08-15 20:32:29,528 - lightrag - INFO - [_] Subgraph query successful | Node count: 12 | Edge count: 14
2025-08-15 20:34:09,875 - lightrag - INFO -  == LLM cache == saving: global:keywords:c50d9928aa744e5ce7ed25686b670911
2025-08-15 20:34:09,876 - lightrag - INFO - Process 40397 building query context...
2025-08-15 20:34:09,877 - lightrag - INFO - Query edges: summary, proposal overview, executive briefing, top_k: 40, cosine: 0.2
2025-08-15 20:34:10,385 - lightrag - INFO - Global query: 11 entites, 14 relations
2025-08-15 20:34:10,390 - lightrag - INFO - Truncated KG query results: 11 entities, 14 relations
2025-08-15 20:34:10,391 - lightrag - INFO - KG related chunks: 2 from entitys, 2 from relations
2025-08-15 20:34:10,394 - lightrag - WARNING - Rerank is enabled but no rerank model is configured. Please set up a rerank model or set enable_rerank=False in query parameters.
2025-08-15 20:34:10,397 - lightrag - INFO - Final context: 11 entities, 14 relations, 2 chunks
2025-08-15 20:34:16,097 - uvicorn.access - INFO - 127.0.0.1:58622 - "POST /query/stream HTTP/1.1" 200
